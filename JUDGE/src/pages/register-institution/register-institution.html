<script>
    $(document).ready(function() {
        $('select').material_select();
    });

    $(document).ready(function(){
        // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
        $('.modal').modal();
    });
</script>

<div class="container">
    <div class="row">
        <form class="col s12">
            <div class="row">
                <div class="input-field col s6">
                    <select id="institution" ng-model="ctrl.presenterInstitution" required>
                        <option value="" disabled selected>Choose Your Institution</option>
                        <option ng-repeat="institution in ctrl.institutions" value="{{institution.title}}">{{institution.title}}</option>
                    </select>
                </div>
                <div class="input-field col s6">
                    <select id="role" ng-model="ctrl.presenterRole" required>
                        <option value="" disabled selected>Choose Your Role</option>
                        <option ng-repeat="role in ctrl.roles" value="{{role.title}}">{{role.title}}</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col 14 s12">
                    <h5 class="black-text"><u>Key Participants:</u></h5>
                </div>
            </div>
            <div class="row">
                 <div class="col s12">
                     <table class="highlight">
                         <thead>
                             <tr>
                                 <th data-field="keyParticipantFName">First Name</th>
                                 <th data-field="keyParticipantLName">Last Name</th>
                                 <th data-field="keyParticipantDepartment">Department</th>
                                 <th data-field="keyParticipantInstitution">Institution</th>
                                 <th data-field="keyParticipantRole">Role</th>
                            </tr>
                         </thead>
                         <tbody>
                            <tr ng-repeat="kParticipant in ctrl.keyParticipants">
                                <td>{{kParticipant.keyParticipantFName}}</td>
                                <td>{{kParticipant.keyParticipantLName}}</td>
                                <td>{{kParticipant.keyParticipantDepartment}}</td>
                                <td>{{kParticipant.keyParticipantInstitution}}</td>
                                <td>{{kParticipant.keyParticipantRole}}</td>
                            </tr>
                         </tbody>
                     </table>
                 </div>
            </div>
            <div class="row">
                <button data-target="modal1" class="btn waves-effect waves-light">Add Presenter</button>
            </div>
            <div id="modal1" class="modal modal-fixed-footer">
                <div class="modal-content">
                    <div class="row">
                        <div class="input-field col s4">
                            <input placeholder="First Name" id="keyParticipantFName" ng-model="ctrl.keyParticipantFName" type="text" class="validate" required>
                            <label for="keyParticipantFName">First Name:</label>
                        </div>
                        <div class="input-field col s4">
                            <input placeholder="Last Name" id="keyParticipantLName" ng-model="ctrl.keyParticipantLName" type="text" class="validate" required>
                            <label for="keyParticipantLName">Last Name:</label>
                        </div>
                        <div class="input-field col s4">
                            <input placeholder="Department" id="keyParticipantDepartment" ng-model="ctrl.keyParticipantDepartment" type="text" class="validate" required>
                            <label for="keyParticipantDepartment">Department</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s6">
                            <select id="keyParticipantInstitution" ng-model="ctrl.keyParticipantInstitution" required>
                                <option value="" disabled selected>Choose Your Institution</option>
                                <option ng-repeat="institution in ctrl.institutions" value="{{institution.title}}">{{institution.title}}</option>
                            </select>
                        </div>
                        <div class="input-field col s6">
                            <select id="keyParticipantRole" ng-model="ctrl.keyParticipantRole" required>
                                <option value="" disabled selected>Choose Your Role</option>
                                <option ng-repeat="role in ctrl.roles" value="{{role.title}}">{{role.title}}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button ng-click="addKeyParticipant()" class="modal-action modal-close waves-effect btn waves-effect waves-light">Submit</button>
                </div>
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div class="row">
                <div ui-sref="register-info" class="btn waves-effect waves-light right">Continue</div>
            </div>
        </form>
    </div>
</div>